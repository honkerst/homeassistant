    badges: []
    title: Network
    icon: 'mdi:server-network'
    path: network
    panel: true
    cards:
      #
      # Main container
      #
      - type: vertical-stack
        cards:
          - type: custom:layout-card
            layout_type: grid
            layout:
              grid-template-columns: 33% 66%
              grid-template-rows: auto
            cards:
              ##############################################
              # First column
              ##############################################
              - type: vertical-stack
                cards:
                  # shows HA notifications
                  # - type: 'custom:home-feed-card'
                  #   title: Notifications
                  #   card_id: network_notifications
                  #   show_empty: true
                  #   max_item_count: 20
                  #   scrollbars_enabled: false
                  - type: 'custom:home-feed-card'
                    title: Network events
                    card_id: network_feed
                    show_empty: false
                    id_filter: ^home_feed_.*
                    max_item_count: 100
                    scrollbars_enabled: false
                    style: |
                      .item-left {
                        transform: scale(0.8);
                      }
                      #notifications > .item-container {
                        margin: 0px 0px 0px 0px;
                        font-size: 80%;
                      }
                      .item-content ha-markdown p {
                        margin-bottom: 0px;
                        padding-top: 6px;
                      }
                    compact_mode: true
                    entities:
                        # Network info binary_sensor.win10_pc_jed_google_chrome_fullscreen
                      - entity: sensor.win10_pc_jed_current_username
                        name: Win10 login
                      - entity: binary_sensor.win10_chrome_in_use
                        name: Win10 Chrome
                      - entity: binary_sensor.win10_pc_jed_google_chrome_fullscreen
                        name: Win10 Chrome fullscreen
                      - entity: binary_sensor.win10_minecraft_in_use
                        name: Win10 Minecraft
                      - entity: automation.meross_power_strip_unavailable
                        name: Meross offline notification
                      - entity: sensor.mac_uptime_in_hours
                        name: Mac uptime
                        icon: mdi:monitor
                      - entity: automation.slider_sync_with_actual_itunes_volume
                        name: iTunes volume sync
                        icon: mdi:music
                      #- entity: automation.keep_google_mini_awake  # too chatty
                      - entity: automation.kitchen_timer_announcement
                        name: Kitchen Echo timer finished
                      # internet
                      - entity: automation.internet_disconnected
                        remove_repeats: false
                        max_items: 5
                        icon: mdi:server-network-off
                      - entity: automation.internet_reconnected
                        remove_repeats: false
                        max_items: 5
                        icon: mdi:server-network
                      - entity: counter.internet_outages
                        icon: mdi:server-network-off
                    #  - entity: script.internet_connection_reestablished
                    #    name: Internet reconnect TTS
                    #    icon: mdi:server-network
                    #  - entity: script.internet_outage_detected
                    #    name: Internet outage TTS
                    #    icon: mdi:server-network-off
                      # macs in use
                      - entity: sensor.mac_unlocked
                        icon: mdi:monitor
                      - entity: sensor.mac_mini_unlocked
                        icon: mdi:monitor
                      - entity: sensor.mac_fin_unlocked
                        icon: mdi:monitor
                      # - entity: sensor.mac_jed_unlocked
                      #   icon: mdi:monitor
                      # - entity: sensor.mac_i7_unlocked
                      #   icon: mdi:monitor
                        # iCloud 
                      - entity: script.icloud_display_message_ipad_4
                        icon: mdi:apple-icloud
                      - entity: script.icloud_display_message_ipad_7
                        icon: mdi:apple-icloud
                      - entity: script.icloud_display_message_tim_phone
                        icon: mdi:apple-icloud
                      - entity: script.icloud_play_sound_ipad_4
                        icon: mdi:apple-icloud
                      - entity: script.icloud_play_sound_ipad_7
                        icon: mdi:apple-icloud
                      - entity: script.icloud_play_sound_tim_phone
                        icon: mdi:apple-icloud
                      - entity: script.icloud_update_positions
                        icon: mdi:apple-icloud
                        # House music 
                      - entity: automation.decrease_volume_by_10
                        icon: mdi:volume-minus
                      - entity: automation.increase_volume_by_10
                        icon: mdi:volume-plus
                      - entity: switch.airplay_speakers_computer
                        icon: mdi:speaker-wireless
                      - entity: switch.airplay_speakers_kitchen
                        icon: mdi:speaker-wireless
                      - entity: switch.airplay_speakers_dining_room
                        icon: mdi:speaker-wireless
                      - entity: switch.airplay_speakers_living_room
                        icon: mdi:speaker-wireless
                      - entity: switch.airplay_speakers_office
                        icon: mdi:speaker-wireless
                      - entity: switch.switch_block_party
                        icon: mdi:music
                      - entity: switch.switch_jazz_radio
                        icon: mdi:music-note-sixteenth
                      - entity: switch.switch_oz_radio
                        icon: mdi:radio
                      - entity: switch.switch_podcasts
                        icon: mdi:podcast
                      - entity: switch.switch_radio_2
                        icon: mdi:radio
                      - entity: switch.switch_radio_3
                        icon: mdi:radio
                      - entity: switch.switch_radio_4
                        icon: mdi:radio
                      - entity: switch.switch_radio_5
                        icon: mdi:radio
                      - entity: switch.switch_talksport
                        icon: mdi:soccer
                      #- entity: switch.switch_the_music
                      #- entity: switch.switch_the_radio
                      - entity: automation.turn_on_all_the_speakers
                        icon: mdi:speaker-wireless
                      - entity: sensor.itunes_media_station_title
                        name: üè†
                        icon: mdi:music
                        # Media Players 
                      - entity: media_player.itunes
                      # Echos
                      - entity: media_player.kitchen_echo_show
                      - entity: media_player.fin_echo_show
                      - entity: media_player.jed_echo_show
                      - entity: media_player.tim_echo_dot
                      - entity: media_player.living_room_echo_dot
                      - entity: media_player.office_echo_show
                      - entity: media_player.dining_room_echo_dot
                      # Kitchen
                      - entity: media_player.kitchen_tv
                        icon: mdi:television
                      - entity: media_player.fire_tv_kitchen
                        name: Plex kitchen
                        exclude_states:
                          - "unavailable"
                      # Living room
                      - entity: media_player.shield
                      - entity: media_player.plex_plex_for_android_tv_shield_android_tv
                        name: Plex Shield
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.appletv_living_room
                      - entity: media_player.plex_plex_for_apple_tv_living_room
                        name: Plex AppleTV
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.playstation_4
                      - entity: media_player.plex_for_playstation_4_pro
                        name: Plex PS4
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.xbox_one
                      - entity: media_player.plex_plex_for_xbox_one_xbox_systemos
                        name: Plex Xbox
                        exclude_states:
                          - "unavailable"
                      # Bedroom
                      # - entity: media_player.roku_2md67m001040
                      # Me
                      # - entity: media_player.plex_plex_web_chrome_windows
                      #   name: Plex Win10
                      #   exclude_states:
                      #     - "unavailable"
                      - entity: media_player.plex_plex_for_ios_tim_s_ipad_4
                        name: Plex iPad 4
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_plex_for_ios_tim_s_ipad_7 
                        name: Plex iPad 7
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_plex_for_ios_timh_iphonex64
                        name: Plex iPhone X64
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_plex_for_ios_timh_iphonex256
                        name: Plex iPhone X256
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_plex_web_opera
                        name: Plex iMac
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_plex_for_ios_jeds_iphone_6
                        name: Plex iPhone 6+
                        exclude_states:
                          - "unavailable"
                      # Fin
                      - entity: media_player.plex_finhoughton_plex_for_ios_fins_iphone_se
                        name: Fin iPhone
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_finhoughton_plex_web_chrome_osx
                        name: Fin Macbook
                        exclude_states:
                          - "unavailable"
                      # - entity: media_player.plex_plex_for_android_tv_aftt_2
                      #   name: Plex Fin TV
                      #   exclude_states:
                      #     - "unavailable"
                      # - entity: media_player.plex_finhoughton_plex_for_android_mobile_kfkawi
                      #   name: Plex Fin tablet
                      #   exclude_states:
                      #     - "unavailable"
                      # - entity: media_player.plex_finhoughton_plex_web_chrome_android
                      #   name: Plex Fin Echo
                      #   exclude_states:
                      #     - "unavailable"
                      # Dusty
                      - entity: media_player.plex_dustmeister_plex_for_ios_iphone_dust
                        name: Plex Dusty iPhone
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_dustmeister_plex_for_ios_ipad
                        name: Plex Dusty iPad
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_dustmeister_plex_for_apple_tv_bapple_shmee_vee
                        name: Plex Dusty TV
                        exclude_states:
                          - "unavailable"
                      # Jed
                      # - entity: media_player.plex_finandjed_plex_for_android_mobile_x_g501_4g_vs5033ml
                      #   name: Plex Jed phone
                      #   exclude_states:
                      #     - "unavailable"
                      - entity: media_player.plex_finandjed_plex_for_android_tv_aftt
                        name: Plex Jed TV
                        exclude_states:
                          - "unavailable"
                      # - entity: media_player.plex_finandjed_plex_web_chrome_chrome_os
                      #   name: Plex Jed chromebook
                      #   exclude_states:
                      #     - "unavailable"
                      # Nigel
                      - entity: media_player.plex_nigeypoo_plex_for_android_tv_bravia_4k_gb_atv3
                        name: Plex Nigel TV
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_nigeypoo_plex_for_ios_iphone
                        name: Plex Nigel iPhone
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_nigeypoo_plex_for_ios_iphone_2
                        name: Plex Nigel iPhone
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_nigeypoo_plex_for_ios_nigel_s_ipad_2
                        name: Plex Nigel iPad
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_nigeypoo_plex_for_roku_katy_s_tv
                        name: Plex Nigel TV 2
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_nigeypoo_plex_for_xbox_xboxone
                        name: Plex Nigel Xbox
                        exclude_states:
                          - "unavailable"
                      # Tim 
                      # - entity: media_player.plex_randoti_plex_for_xbox_one_xboxone
                      #   name: Plex Randolph TV
                      #   exclude_states:
                      #     - "unavailable"
                      # Sasha
                      # - entity: media_player.plex_sashwest_plex_for_xbox_one_xboxone
                      #   name: Plex Sasha Xbox
                      #   exclude_states:
                      #     - "unavailable"
                      # Sean
                      - entity: media_player.plex_seanrush_plex_web_chrome_windows
                        name: Plex Sean Laptop
                        exclude_states:
                          - "unavailable"
                      - entity: media_player.plex_seanrush_plex_web_chrome_android
                        name: Plex Sean TV
                        exclude_states:
                          - "unavailable"
                      # Steve
                      - entity: media_player.plex_stegla_plex_for_ios_steve_days_ipad
                        name: Plex Steve iPad
                        exclude_states:
                          - "unavailable"
                      # - entity: media_player.plex_stegla_plex_for_xbox_one_xbox_systemos
                      #   name: Plex Steve TV
                      #   exclude_states:
                      #     - "unavailable"
                      # Plex streaming
                      #- entity: sensor.plex_tim_s_imac
                      #- entity: sensor.test_mqtt_tautulli_sensor
                      #- entity: automation.plex_play_notification
                      - entity: sensor.tautulli
                        name: Plex server 
                      # TV and speakers
                      - entity: automation.living_room_media_player_paused
                        icon: mdi:television
                      - entity: automation.living_room_media_player_playing
                        icon: mdi:television
                      - entity: switch.tuya_smart_plug_14 # subwoofer
                        icon: mdi:speaker
                      - entity: automation.turn_off_subwoofer_with_receiver_tv
                        icon: mdi:speaker
                        # Devices
                      - entity: automation.playstation_on
                        icon: mdi:playstation
                      - entity: automation.playstation_off
                        icon: mdi:playstation
                      - entity: switch.media_player_living_room_denon_avr
                        icon: mdi:audio-video
                      - entity: switch.media_player_sony_bravia_tv
                        icon: mdi:television
                      - entity: switch.ps4
                        icon: mdi:playstation
                      - entity: sensor.samsung_scx_4623_series
                                  
              ##############################################
              # Second column
              ##############################################
              - type: vertical-stack
                cards:
                  - type: entities
                    title: Network status
                    show_header_toggle: false
                    entities:
                      - type: custom:multiple-entity-row
                        entity: sensor.speedtest_download
                        name: Internet
                        icon: mdi:ip-network
                        state_header: download
                        secondary_info:
                          entity: sensor.last_internet_outage
                          name: 'last outage: '
                        entities:
                          - entity: counter.internet_outages
                            name: outages
                          - entity: sensor.last_weeks_outages
                            name: last week
                          - entity: sensor.speedtest_upload
                            name: upload
                            
                    #  - type: custom:multiple-entity-row
                    #    entity: binary_sensor.edgeos_system_status
                    #    name: Router
                    #    icon: mdi:ethernet
                    #    secondary_info: last-updated
                    #    entities:
                    #      - attribute: cpu
                    #        name: 'CPU: '
                    #      - attribute: mem
                    #        name: 'RAM: '
                    #      - entity: sensor.router_uptime
                    #        name: 'uptime: '

                      - type: custom:multiple-entity-row
                        entity: sensor.mac_cpu_idle_percent_output
                        name: Mac status
                        state_header: CPU
                        icon: mdi:speedometer
                        secondary_info:
                          entity: sensor.mac_uptime_in_hours
                          name: 'uptime: '
                        entities:
                          - entity: sensor.ping_time
                            name: ping
                          - entity: sensor.mac_network_uploaded
                            name: uploaded
                          - entity: sensor.mac_network_downloaded
                            name: downloaded

                      - type: custom:multiple-entity-row
                        entity: sensor.win10_pc_jed_cpu_usage
                        name: PC status
                        state_header: CPU
                        icon: mdi:speedometer-medium
                        secondary_info:
                          entity: sensor.pc_uptime_hours
                          name: 'uptime: '
                        entities:
                          - entity: sensor.win10_pc_jed_current_username
                            name: user
                          - entity: sensor.pc_uploaded
                            name: uploaded
                          - entity: sensor.pc_downloaded
                            name: downloaded

                      - type: section
                      
                      - type: custom:multiple-entity-row
                        entity: sensor.tautulli
                        name: Plex status
                        state_color: true
                        state_header: streams
                        secondary_info: last-updated
                        entities:
                          - entity: sensor.lan_bandwidth
                            name: LAN
                          - entity: sensor.wan_bandwidth
                            name: WAN
                          - entity: sensor.transcodes
                            name: transcoding
                            
                      - type: custom:multiple-entity-row
                        entity: sensor.hdhomerun_info
                        attribute: FirmwareVersion
                        name: HD Homerun
                        icon: mdi:satellite-variant
                        state_header: firmware
                        state_color: false
                        entities:
                          - entity: sensor.homerun_channel_1
                            name: channel 1
                          - entity: sensor.homerun_channel_2
                            name: channel 2
                          - attribute: UpgradeAvailable
                            name: updated firmware
                            
                      - type: section
                            
                      - type: custom:multiple-entity-row
                        entity: sensor.hassmbp_cpu_idle_percent_output
                        name: HassMBP status
                        state_header: CPU
                        icon: mdi:speedometer
                        secondary_info:
                          entity: sensor.hassmbp_battery_level
                          name: 'battery: '
                        entities:
                          - entity: sensor.hassmbp_fan_speed
                            name: fan
                          - entity: sensor.hassmbp_network_uploaded
                            name: uploaded
                          - entity: sensor.hassmbp_network_downloaded
                            name: downloaded
                            
                      - type: custom:multiple-entity-row
                        entity: sensor.ha_uptime_hours_only
                        name: HassMBP VBox status
                        icon: mdi:speedometer-slow
                        state_header: HA uptime
                        state_color: false
                        secondary_info:
                          entity: sensor.last_boot_date_time
                        entities:
                          - entity: sensor.mariadb_size
                            name: DB size
                          - entity: sensor.hassmbp_uptime_in_hours
                            name: MBP uptime
                          - entity: sensor.hassmbpvbox_uptime_hours
                            name: VBox uptime
                            
                      - type: custom:multiple-entity-row
                        entity: sensor.processor_use
                        name: HassMBP VBox performance
                        state_header: CPU
                        state_color: true
                        secondary_info: last-updated
                        entities:
                          - entity: sensor.hassmbp_cpu_temp
                            name: temp
                          - entity: sensor.disk_use_percent
                            name: disk
                          - entity: sensor.memory_use_percent
                            name: memory
                            
                      - type: custom:multiple-entity-row
                        entity: sensor.hasubsystem_ha_uptime_hours_only
                        name: Pi status
                        icon: mdi:speedometer-slow
                        state_header: HA uptime
                        state_color: false
                        secondary_info:
                          entity: sensor.hasubsystem_last_boot_date_time
                        entities:
                          - entity: sensor.hasubsystem_rpi_uptime_hours
                            name: Pi uptime
                            
                      - type: custom:multiple-entity-row
                        entity: sensor.hasubsystem_processor_use
                        name: Pi performance
                        state_header: CPU
                        state_color: true
                        secondary_info: last-updated
                        entities:
                          - entity: sensor.hasubsystem_cpu_temperature
                            name: temp
                          - entity: sensor.hasubsystem_disk_use_percent
                            name: disk
                          - entity: sensor.hasubsystem_memory_use_percent
                            name: memory
                            
                      - type: section
                      
                      - type: custom:multiple-entity-row
                        entity: sensor.qnap_free_space_volume_1
                        name: NAS usage
                        state_color: true
                        state_header: free space
                        secondary_info: last-updated
                        unit: GB
                        entities:
                          - entity: sensor.qnap_cpu_usage
                            name: CPU
                          - entity: sensor.qnap_memory_usage
                            name: RAM
                          - entity: sensor.qnap_used_space_volume_1
                            name: used space
                            unit: GB
                      - type: custom:multiple-entity-row
                        entity: sensor.qnap_smart_status_drive_4
                        name: NAS status
                        state_header: drive 4
                        state_color: true
                        secondary_info:
                          entity: sensor.qnap_status
                        entities:
                          - entity: sensor.qnap_smart_status_drive_1
                            name: drive 1
                          - entity: sensor.qnap_smart_status_drive_2
                            name: drive 2
                          - entity: sensor.qnap_smart_status_drive_3
                            name: drive 3
                      - type: custom:multiple-entity-row
                        entity: sensor.qnap_temperature_drive_4
                        name: NAS temperatures
                        state_color: true
                        state_header: drive 4
                        secondary_info: 
                          entity: sensor.qnap_system_temperature
                        entities:
                          - entity: sensor.qnap_temperature_drive_1
                            name: drive 1
                          - entity: sensor.qnap_temperature_drive_2
                            name: drive 2
                          - entity: sensor.qnap_temperature_drive_3
                            name: drive 3
                          
                      - type: section
              
                      - type: custom:multiple-entity-row
                        entity: sensor.qbittorrent_info
                        name: Torrents
                        icon: mdi:cloud-download
                        state_color: true
                        secondary_info: last-updated
                        state_header: status
                        entities: 
                          - entity: sensor.qbittorrent_average_progress
                            name: average %
                          - attribute: dht_nodes
                            name: nodes
                      - type: custom:multiple-entity-row
                        entity: sensor.qbittorrent_downloaded_gb
                        name: Status
                        icon: mdi:cloud-upload
                        state_color: true
                        secondary_info:
                          entity: sensor.qbittorrent_status_friendly
                          name: ''
                        state_header: downloaded
                        entities:
                          - entity: sensor.qbittorrent_up_speed
                            name: UL speed
                          - entity: sensor.qbittorrent_down_speed
                            name: DL speed
                          - entity: sensor.qbittorrent_uploaded_gb
                            name: uploaded

                      # individual downloads       
                      - type: conditional
                        conditions:
                          - entity: sensor.qbittorrent_progress_1
                            state_not: '0%'
                          - entity: sensor.qbittorrent_progress_1
                            state_not: 'Unavailable'
                        row: 
                          entity: sensor.qbittorrent_progress_1
                          name: Slot 1
                          icon: mdi:cloud-download-outline
                      - type: conditional
                        conditions:
                          - entity: sensor.qbittorrent_progress_2
                            state_not: '0%'
                          - entity: sensor.qbittorrent_progress_2
                            state_not: 'Unavailable'
                        row: 
                          entity: sensor.qbittorrent_progress_2
                          name: Slot 2
                          icon: mdi:cloud-download-outline
                      - type: conditional
                        conditions:
                          - entity: sensor.qbittorrent_progress_3
                            state_not: '0%'
                          - entity: sensor.qbittorrent_progress_3
                            state_not: 'Unavailable'
                        row: 
                          entity: sensor.qbittorrent_progress_3
                          name: Slot 3
                          icon: mdi:cloud-download-outline
                      - type: conditional
                        conditions:
                          - entity: sensor.qbittorrent_progress_4
                            state_not: '0%'
                          - entity: sensor.qbittorrent_progress_4
                            state_not: 'Unavailable'
                        row: 
                          entity: sensor.qbittorrent_progress_4
                          name: Slot 4
                          icon: mdi:cloud-download-outline
                      - type: conditional
                        conditions:
                          - entity: sensor.qbittorrent_progress_5
                            state_not: '0%'
                          - entity: sensor.qbittorrent_progress_5
                            state_not: 'Unavailable'
                        row: 
                          entity: sensor.qbittorrent_progress_5
                          name: Slot 5
                          icon: mdi:cloud-download-outline
                      - type: conditional
                        conditions:
                          - entity: sensor.qbittorrent_progress_6
                            state_not: '0%'
                          - entity: sensor.qbittorrent_progress_6
                            state_not: 'Unavailable'
                        row: 
                          entity: sensor.qbittorrent_progress_6
                          name: Slot 6
                          icon: mdi:cloud-download-outline
                      - type: conditional
                        conditions:
                          - entity: sensor.qbittorrent_progress_7
                            state_not: '0%'
                          - entity: sensor.qbittorrent_progress_7
                            state_not: 'Unavailable'
                        row: 
                          entity: sensor.qbittorrent_progress_7
                          name: Slot 7
                          icon: mdi:cloud-download-outline
                      - type: conditional
                        conditions:
                          - entity: sensor.qbittorrent_progress_8
                            state_not: '0%'
                          - entity: sensor.qbittorrent_progress_8
                            state_not: 'Unavailable'
                        row: 
                          entity: sensor.qbittorrent_progress_8
                          name: Slot 8
                          icon: mdi:cloud-download-outline
                          
                      - type: section
                  
                      - entity: sensor.timh_iphonex256_ha_app_battery_level
                        type: custom:multiple-entity-row
                        name: Mobile batteries
                        state_header: iPhone X256
                        icon: mdi:cellphone
                        entities:
                          - entity: sensor.tim_s_ipad_7_ha_app_battery_level
                            name: iPad 7
                          - entity: sensor.timh_apple_watch_icloud_battery_state
                            name: Ô£øWatch
                          - entity: sensor.timh_iphonex64_battery_level
                            name: iPhone X64
                      - entity: sensor.honkbook_pro_ha_app_internal_battery_level
                        type: custom:multiple-entity-row
                        name: Mobile batteries
                        state_header: MacBookPro
                        icon: mdi:cellphone
                        entities:
                          - entity: sensor.tim_s_ipad_4_battery_level
                            name: iPad 4
                          - entity: sensor.wallmount_battery_level
                            name: Fire 10
                          - entity: sensor.hassmbp_battery_level
                            name: HA MacBookPro
                      - entity: sensor.fins_iphone_battery
                        type: custom:multiple-entity-row
                        name: Mobile batteries
                        state_header: Fin iPhone 13
                        icon: mdi:cellphone
                        entities:
                          - entity: sensor.jeds_iphone_6_battery_level
                            name: Jed iPhone 6
                          - entity: sensor.dig_l21hn_battery_level
                            name: Jed Android
                          - entity: sensor.jeds_iphone_se_battery
                            name: Jed iPhone SE
                  ############################################## 
                  # First column
                  ##############################################
                  - type: horizontal-stack
                    cards:
                      - type: vertical-stack
                        cards:
                          - type: "custom:atomic-calendar-revive"
                            name: "Scheduled events"
                            entities:
                              - entity: calendar.automator
                                type: icon3
                            #  - entity: calendar.holidays_in_united_kingdom
                            fullDayEventText: 'All day'
                            untilText: 'Until'
                            enableModeChange: true
                            showColors: true
                            maxDaysToShow: 1
                            maxEventCount: 0
                            showLocation: true
                            showMonth: true
                            showWeekDay: true
                            disableEventLink: true
                            disableLocationLink: true
                            showCurrentEventLine: true
                            dateColor: '#DDDDDD'
                            dateSize: 90
                            timeColor: '#cccccc'
                            timeSize: 80
                            titleColor: '#ffffff'
                            titleSize: 100
                            locationIconColor: 'rgb(230, 124, 115)'
                            locationLinkColor: '#BBBBBB'
                            locationTextSize: 90
                            dimFinishedEvents: true
                            finishedEventOpacity: 0.3
                            finishedEventFilter: 'grayscale(100%)'
                            dayWrapperLineColor: '#999999'
                            eventBarColor: '#aaaaaa'
                            showProgressBar: true
                            progressBarColor: '#aaaaaa'
                            
                          - type: entities
                            title: Device status
                            show_header_toggle: false
                            entities:
                              # - sensor.networking_imac_i5_retina
                              # - sensor.networking_imac_i7
                              # - sensor.networking_mac_mini
                              - sensor.samsung_scx_4623_series
                              # - sensor.networking_airportsofa
                              # - sensor.networking_airportkitchen
                              # - sensor.networking_airportoffice
                              # - sensor.networking_deco_office
                              # - sensor.networking_deco_livingroom
                              # - sensor.networking_lyric_thermostat
                              # - sensor.networking_konnected_alarm
                              # - sensor.networking_xiaomi_gateway
                              # - sensor.networking_hd_homerun
                              # - sensor.networking_google_home_mini_downstairs
                              # - sensor.networking_google_home_mini_upstairs
                              # - sensor.networking_amazon_echo_kitchen
                              # - sensor.networking_amazon_echo_fin
                              # - sensor.networking_amazon_echo_jed
                              # - sensor.networking_nintendo_switch
                              - switch.ps4_power
                              - sensor.ps4_activity
                              - sensor.ps4_activity_app
                              - switch.ps5_power
                              - sensor.ps5_activity
                              - sensor.ps5_activity_app
                              
                      - type: vertical-stack
                        cards:
                            
                            
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_android_tv_aftt
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_android_tv_aftt
                          # Kitchen TV only show this if Plex not playing  
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_android_tv_aftt
                                state: "unavailable"
                              - entity: media_player.kitchen_tv
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.kitchen_tv
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_android_tv_aftt
                                state: "paused"
                              - entity: media_player.kitchen_tv
                                state: "playing"
                            card:
                              type: media-control
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_android_tv_aftt
                                state: "idle"
                              - entity: media_player.kitchen_tv
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.kitchen_tv
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_android_tv_aftt
                                state: "standby"
                              - entity: media_player.kitchen_tv
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.kitchen_tv
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_ios_jeds_iphone_6
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_ios_jeds_iphone_6
                          ################   
                          # Dusty iPad
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_dustmeister_plex_for_ios_ipad
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_dustmeister_plex_for_ios_ipad
                          # Dusty iPhone
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_dustmeister_plex_for_ios_iphone
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_dustmeister_plex_for_ios_iphone
                          # Dusty AppleTV
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_dustmeister_plex_for_apple_tv_bapple_shmee_vee
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_dustmeister_plex_for_apple_tv_bapple_shmee_vee
                          ################   
                          # Es and Tom
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_esandtom_plex_web_chrome_osx
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_esandtom_plex_web_chrome_osx
                          ################   
                          # Fin
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_android_tv_aftt_2
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_android_tv_aftt_2
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_finhoughton_plex_web_chrome_android
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_finhoughton_plex_web_chrome_android
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_finhoughton_plex_web_chrome_osx
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_finhoughton_plex_web_chrome_osx
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_finhoughton_plex_web_chrome_chrome_os
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_finhoughton_plex_web_chrome_chrome_os
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_finhoughton_plex_web_chrome_chrome_os_2
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_finhoughton_plex_web_chrome_chrome_os_2
                          ################   
                          # Fin Fire tablet
                          - type: conditional
                            conditions:
                              - entity: media_player.timothy_s_2nd_fire
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.timothy_s_2nd_fire
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_finhoughton_plex_for_android_mobile_kfkawi
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_finhoughton_plex_for_android_mobile_kfkawi
                          ################   
                          # Fin phone 
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_finhoughton_plex_for_ios_fins_iphone_se
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_finhoughton_plex_for_ios_fins_iphone_se
                          ################   
                          # Jed mobile
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_finandjed_plex_for_android_mobile_x_g501_4g_vs5033ml
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_finandjed_plex_for_android_mobile_x_g501_4g_vs5033ml
                          ################ 
                          # Jed  
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_finandjed_plex_for_android_tv_aftt
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_finandjed_plex_for_android_tv_aftt
                          # - type: conditional
                          #   conditions:
                          #     - entity: media_player.plex_finandjed_plex_web_chrome_chrome_os
                          #       state: "playing"
                          #   card:
                          #     type: media-control
                          #     entity: media_player.plex_finandjed_plex_web_chrome_chrome_os
                          ################   
                          # Me  
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_ios_tim_s_ipad_4
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_ios_tim_s_ipad_4
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_ios_tim_s_ipad_7
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_ios_tim_s_ipad_7
                          ################   
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_ios_timh_iphonex64
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_ios_timh_iphonex64
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_ios_timh_iphonex256
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_ios_timh_iphonex256
                          ################   
                          # House media players  
                          - type: conditional
                            conditions:
                              - entity: media_player.living_room
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.living_room
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_android_tv_shield_android_tv
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_android_tv_shield_android_tv
                          ################  
                            #  - type: conditional
                            #    conditions:
                            #      - entity: media_player.plex_plex_for_apple_tv_living_room
                            #        state: "playing"
                            #    card:
                            #      type: media-control
                            #      entity: media_player.plex_plex_for_apple_tv_living_room
                          ################   
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_playstation_4_playstation_4_pro
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_playstation_4_playstation_4_pro
                          ################   
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_xbox_one_xbox_systemos
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_xbox_one_xbox_systemos
                          ################   
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_web_opera
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_web_opera
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_web_opera_2
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_web_opera_2
                          ################   
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_web_safari
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_web_safari
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_web_safari_osx
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_web_safari_osx
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_web_chrome_osx
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_web_chrome_osx
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_web_chrome_osx_2
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_web_chrome_osx_2
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_web_chrome_windows
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_web_chrome_windows
                          ################    media_player.plex_plex_web_chrome_windows
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_plex_for_roku_kitchen_roku
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_plex_for_roku_kitchen_roku
                          ################   
                          # Tim 
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_randoti_plex_for_xbox_one_xboxone
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_randoti_plex_for_xbox_one_xboxone
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_randoti_plex_for_xbox_one_xboxone_2
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_randoti_plex_for_xbox_one_xboxone_2
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_randoti_plex_for_xbox_one_xboxone_3
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_randoti_plex_for_xbox_one_xboxone_3
                          ################   
                          # Mum 
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_rogerandangela_plex_for_android_aftt
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_rogerandangela_plex_for_android_aftt
                          ################   
                          # Sasha 
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_sashwest_plex_for_xbox_one_xboxone
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_sashwest_plex_for_xbox_one_xboxone
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_sashwest_plex_for_xbox_one_xboxone_2
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_sashwest_plex_for_xbox_one_xboxone_2
                          ################   
                          # Sean 
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_seanrush_plex_web_chrome_windows
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_seanrush_plex_web_chrome_windows
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_seanrush_plex_web_chrome_windows_2
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_seanrush_plex_web_chrome_windows_2
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_seanrush_plex_web_chrome_windows_3
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_seanrush_plex_web_chrome_windows_3
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_seanrush_plex_web_chrome_chrome_os
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_seanrush_plex_web_chrome_chrome_os
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_seanrush_plex_web_chrome_chrome_os_2
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_seanrush_plex_web_chrome_chrome_os_2
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_seanrush_plex_web_chrome_android
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_seanrush_plex_web_chrome_android
                          ################   
                          # Steve 
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_stegla_plex_for_ios_steve_days_ipad
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_stegla_plex_for_ios_steve_days_ipad
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_stegla_plex_for_xbox_one_xbox_systemos
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_stegla_plex_for_xbox_one_xbox_systemos
                          ################   
                          # Stuart 
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_stuartdougall_plex_cast_chromecast
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_stuartdougall_plex_cast_chromecast
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_stuartdougall_plex_web_chrome_android
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_stuartdougall_plex_web_chrome_android
                          ################   
                          # Nigel  
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_nigeypoo_plex_cast_chromecast
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_nigeypoo_plex_cast_chromecast
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_nigeypoo_plex_cast_chromecast_2
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_nigeypoo_plex_cast_chromecast_2
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_nigeypoo_plex_for_android_tv_aftso001
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_nigeypoo_plex_for_android_tv_aftso001
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_nigeypoo_plex_for_android_tv_bravia_4k_gb_atv3
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_nigeypoo_plex_for_android_tv_bravia_4k_gb_atv3
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_nigeypoo_plex_for_ios_nigel_s_ipad_2
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_nigeypoo_plex_for_ios_nigel_s_ipad_2
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_nigeypoo_plex_for_ios_nigels_iphone_3
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_nigeypoo_plex_for_ios_nigels_iphone_3
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_nigeypoo_plex_for_ios_katys_fone
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_nigeypoo_plex_for_ios_katys_fone
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_nigeypoo_plex_for_roku_katy_s_tv
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_nigeypoo_plex_for_roku_katy_s_tv
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_nigeypoo_plex_for_playstation_4_playstation_4
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_nigeypoo_plex_for_playstation_4_playstation_4
                          - type: conditional
                            conditions:
                              - entity: media_player.plex_nigeypoo_plex_for_xbox_360_xbox_360_1dlifh
                                state: "playing"
                            card:
                              type: media-control
                              entity: media_player.plex_nigeypoo_plex_for_xbox_360_xbox_360_1dlifh
                          ##############################################
                          # Plex feed card
                          ##############################################
                          ################   
                          - type: 'custom:auto-entities'
                            card:
                              type: 'custom:home-feed-card'
                              title: Plex connections
                              show_empty: false
                              id_filter: ^home_feed_.*
                              max_item_count: 10
                            filter:
                              include:
                                - entity_id: media_player.plex_*
                                  options:
                                    content_template: '{{username}} is watching {{media_title}}'
                                    remove_repeats: false
                                    exclude_states:
                                      - "unavailable"
                                      - "standby"
                                      - "idle"
                                      - "off"
                          ##############################################
                          # Online
                          ##############################################
                          ################   
                          - type: entities
                            title: Online
                            show_header_toggle: false
                            entities:
                            #  - sensor.plex_tim_s_imac
                            #  - sensor.plex_watching_status
                              - sensor.psn_avatar_image
                              - sensor.psn_trophies_breakdown
                              - sensor.honkerstim_gamer_score
                              - sensor.stegla34_gamer_score
                              - sensor.trox316_gamer_score
                              - sensor.d1rty_du5t_gamer_score
                              - sensor.nigel7964_gamer_score
                              - sensor.ron_swanson_quote
                              - sensor.chuck_norris_quote
                      