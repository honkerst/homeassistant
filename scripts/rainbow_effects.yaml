########################################################
########      Rainbow effects                   ########
########################################################
##### Living room floor
random_light_living_room_floor:
  alias: Random light living room floor
  sequence:
    - service: script.turn_off
      entity_id: script.random_light_living_room_floor_loop
    - condition: state
      entity_id: input_boolean.random_light_living_room_floor
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.gateway_light_04cf8c8fa2af
        brightness: 254
    - service: light.turn_on
      entity_id: light.gateway_light_04cf8c8fa2af
      data_template:
        hs_color:
          - "{{ (30 + (state_attr('light.gateway_light_04cf8c8fa2af', 'hs_color')[0] or 0)) % 360 }}"
          - 100
        brightness_pct: 100
        transition: 3
    - service: script.random_light_living_room_floor_loop
random_light_living_room_floor_loop:
  alias: Random light living room floor loop
  sequence:
    - service: script.turn_off
      entity_id: script.random_light_living_room_floor
    - condition: state
      entity_id: input_boolean.random_light_living_room_floor
      state: 'on'
    - delay:
        seconds: 6
    - service: script.random_light_living_room_floor
##### Living room sofa
random_light_living_room_sofa:
  alias: Random light living room sofa
  sequence:
    - service: script.turn_off
      entity_id: script.random_light_living_room_sofa_loop
    - condition: state
      entity_id: input_boolean.random_light_living_room_sofa
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.living_room_sofa
        brightness: 254
    - service: light.turn_on
      entity_id: light.living_room_sofa
      data_template:
        hs_color:
          - "{{ (30 + (state_attr('light.living_room_sofa', 'hs_color')[0] or 0)) % 360 }}"
          - 100
        brightness_pct: 100
        transition: 3
    - service: script.random_light_living_room_sofa_loop
random_light_living_room_sofa_loop:
  alias: Random light living room sofa loop
  sequence:
    - service: script.turn_off
      entity_id: script.random_light_living_room_sofa
    - condition: state
      entity_id: input_boolean.random_light_living_room_sofa
      state: 'on'
    - delay:
        seconds: 6
    - service: script.random_light_living_room_sofa
##### Reading light
random_light_reading_light:
  alias: Random light reading light
  sequence:
    - service: script.turn_off
      entity_id: script.random_light_reading_light_loop
    - condition: state
      entity_id: input_boolean.random_light_reading_light
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.reading_light
        brightness: 140
    - service: light.turn_on
      entity_id: light.reading_light
      data_template:
        hs_color:
          - "{{ (30 + (state_attr('light.reading_light', 'hs_color')[0] or 0)) % 360 }}"
          - 100
        brightness_pct: 50
        transition: 3
    - service: script.random_light_reading_light_loop
random_light_reading_light_loop:
  alias: Random light reading light loop
  sequence:
    - service: script.turn_off
      entity_id: script.random_light_reading_light
    - condition: state
      entity_id: input_boolean.random_light_reading_light
      state: 'on'
    - delay:
        seconds: 6
    - service: script.random_light_reading_light
##### Dining room
random_light_dining_room:
  alias: Random light dining room
  sequence:
    - service: script.turn_off
      entity_id: script.random_light_dining_room_loop
    - condition: state
      entity_id: input_boolean.random_light_dining_room
      state: 'on'
    - service: light.turn_on
      data:
        entity_id: light.dining_room
        brightness: 254
    - service: light.turn_on
      entity_id: light.dining_room
      data_template:
        hs_color:
          - "{{ (30 + (state_attr('light.dining_room', 'hs_color')[0] or 0)) % 360 }}"
          - 100
        brightness_pct: 100
        transition: 3
    - service: script.random_light_dining_room_loop
random_light_dining_room_loop:
  alias: Random light dining room loop
  sequence:
    - service: script.turn_off
      entity_id: script.random_light_dining_room
    - condition: state
      entity_id: input_boolean.random_light_dining_room
      state: 'on'
    - delay:
        seconds: 6
    - service: script.random_light_dining_room